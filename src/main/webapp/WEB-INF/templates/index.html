<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

<head th:replace="fragments/head :: common_header(~{::title},~{::link})">

  <title>[[#{home.page.title}]]</title>
  
  <link />

</head>

<body>
<div id="wrapper">

	<!-- Main Navigation -->
	<nav th:replace="fragments :: navbar-static-side"></nav>
	
	<div id="page-wrapper" class="gray-bg">
		<!-- Minor Navigation -->
		<div th:replace="fragments :: navbar-static-top"></div>
		
		<!-- Title, Breadcrumb and Actions Navigation -->
		<div th:replace="fragments :: page-heading"></div>
		
		<!-- Main Content -->
		<h1>Hello [[${#httpServletRequest.remoteUser}]]!</h1>
		
		<p th:text="${param.user}">user</p><br>
		Logged user: <span sec:authentication="name">Bob</span><br>
		Logged user: <span sec:authentication="principal.firstName">Bob</span><br>
		Roles: <span sec:authentication="principal.authorities">[ROLE_USER, ROLE_ADMIN]</span><br>
		<div sec:authorize="hasAuthority('READ_PRIVILEGE')">This text is only visible to a user</div>
		<div sec:authorize="hasAuthority('WRITE_PRIVILEGE')"> This text is only visible to an admin</div>
		
		<!-- APP Footer -->
		<div th:replace="fragments :: footer"></div>
	</div>
</div>

	<!--/* Placeholder for mainly scripts */-->
	<th:block th:include="fragments/scripts :: common_scripts" />

</body>
</html>