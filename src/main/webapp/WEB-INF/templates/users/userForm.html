<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

<head th:include="fragments :: head">

</head>
<body>
	<div id="wrapper">

		<!-- Main Navigation -->
		<nav th:replace="fragments :: navbar-static-side"></nav>

		<div id="page-wrapper" class="gray-bg">
			<!-- Minor Navigation -->
			<div th:replace="fragments :: navbar-static-top"></div>

			<!-- Title, Breadcrumb and Actions Navigation -->
			<div th:replace="fragments :: page-heading"></div>

			<!-- Main Content -->
			<div class="wrapper wrapper-content animated fadeInRight">
				<div class="row">
					<div class="col-lg-12">
						<div class="ibox float-e-margins">
							<div class="ibox-title">
								<h5>
									Informações do usuário <small> (*) Campos com
										preenchimento obrigatório.</small>
								</h5>
								<div class="ibox-tools">
									<a class="collapse-link"> <i class="fa fa-chevron-up"></i>
									</a> <a class="dropdown-toggle" data-toggle="dropdown" href="#">
										<i class="fa fa-wrench"></i>
									</a>
									<ul class="dropdown-menu dropdown-user">
										<li><a href="#">Config option 1</a></li>
										<li><a href="#">Config option 2</a></li>
									</ul>
									<a class="close-link"> <i class="fa fa-times"></i>
									</a>
								</div>
							</div>
							<div class="ibox-content">
								<form class="form-horizontal" th:object="${user}" th:action="@{/users}" method="post" >
									<div class="form-group">
										<label class="col-sm-2 control-label">Nome *</label>
										<div class="col-sm-10">
											<input type="text" class="form-control" th:field="*{firstName}">
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-2 control-label">Sobrenome *</label>
										<div class="col-sm-10">
											<input type="text" class="form-control" th:field="*{lastName}">
										</div>
									</div>
									<div class="hr-line-dashed"></div>
									<div class="form-group" th:classappend="${#fields.hasErrors('email')}? 'has-error'">
										<label class="col-sm-2 control-label">E-mail *</label>
										<div class="col-sm-10">
											<input type="email" class="form-control" th:field="*{email}">
										</div>
										<p th:if="${#fields.hasErrors('email')}" th:errors="*{email}">EMAIL ERRO</p>
									</div>
									<div class="hr-line-dashed"></div>
									<div class="form-group">
										<label class="col-sm-2 control-label">Senha *</label>

										<div class="col-sm-10">
											<input type="password" class="form-control" th:field="*{password}">
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-2 control-label">Confirma Senha *</label>

										<div class="col-sm-10">
											<input type="password" class="form-control" name="passwordMatch">
										</div>
									</div>
									<div class="hr-line-dashed"></div>
									<div class="form-group">
										<label class="col-sm-2 control-label">Grupos *</label>
										<div class="col-sm-10">
											<select th:field="${user.roles}" data-placeholder="Choose a Country..." class="chosen-select" multiple style="width:350px;" tabindex="4">
            									<option value=""></option>
            									<option th:each="role : ${roles}" th:field="${user.roles}" th:value="${role.id}" th:text="${role.name}"></option>
          									</select>
											
										</div>
									</div>
									<div class="form-group">
										<div class="col-sm-4 col-sm-offset-2">
											<button class="btn btn-white" type="submit">Cancel</button>
											<button class="btn btn-primary" type="submit">Add
												User</button>
										</div>
									</div>


								</form>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- APP Footer -->
			<div th:replace="fragments :: footer"></div>
		</div>
	</div>

	<!-- Mainly scripts -->
	<script src="js/jquery-2.1.1.js" th:src="@{/resources/js/jquery-2.1.1.js}"></script>
	<script src="js/bootstrap.min.js" th:src="@{/resources/js/bootstrap.min.js}"></script>
	<script src="js/plugins/metisMenu/jquery.metisMenu.js" th:src="@{/resources/js/plugins/metisMenu/jquery.metisMenu.js}"></script>
	<script src="js/plugins/slimscroll/jquery.slimscroll.min.js" th:src="@{/resources/js/plugins/slimscroll/jquery.slimscroll.min.js}"></script>

	<!-- Custom and plugin javascript -->
	<script src="js/inspinia.js" th:src="@{/resources/js/inspinia.js}"></script>
	<script src="js/plugins/pace/pace.min.js" th:src="@{/resources/js/plugins/pace/pace.min.js}"></script>
		
	<!-- Chosen -->
    <script src="js/plugins/chosen/chosen.jquery.js" th:src="@{/resources/js/plugins/chosen/chosen.jquery.js}"></script>
    
    <script type="text/javascript">
    var config = {
      '.chosen-select'           : {},
      '.chosen-select-deselect'  : {allow_single_deselect:true},
      '.chosen-select-no-single' : {disable_search_threshold:10},
      '.chosen-select-no-results': {no_results_text:'Oops, nothing found!'},
      '.chosen-select-width'     : {width:"95%"}
    }
    for (var selector in config) {
      $(selector).chosen(config[selector]);
    }
  </script>
       
</body>
</html>